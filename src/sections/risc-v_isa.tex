\section{RISC-V ISA}
\href{https://riscv.org/wp-content/uploads/2017/05/riscv-spec-v2.2.pdf}{rtfm!}

The following tables are from the \textbf{RISC-V Reference Card} by \textit{James Zhu}, available on \href{https://github.com/jameslzhu/riscv-card}{Github} (with minor formatting changes).

% custom defines
\newcommand{\instbit}[1]{\mbox{\scriptsize #1}}
\newcommand{\instbitrange}[2]{~\instbit{#1} \hfill \instbit{#2}~}
% Typewriter font 
\newcolumntype{T}{>{\texttt\bgroup}l<{\egroup}}
% Typewriter font (code) 
\newcolumntype{C}{>{\texttt\bgroup}p{2.5in}<{\egroup}}

\subsection{Core Instruction Formats}
\small
\begin{center}
    \begin{tabular}
        {p{0in}p{0.4in}p{0.05in}p{0.05in}p{0.05in}p{0.05in}p{0.4in}p{0.6in}p{0.4in}p{0.6in}p{0.7in}l}
                                                                      &
        \multicolumn{1}{l}{\instbit{31}}                              &
        \multicolumn{1}{r}{\instbit{27}}                              &
        \instbit{26}                                                  &
        \instbit{25}                                                  &
        \multicolumn{1}{l}{\instbit{24}}                              &
        \multicolumn{1}{r}{\instbit{20}}                              &
        \instbitrange{19}{15}                                         &
        \instbitrange{14}{12}                                         &
        \instbitrange{11}{7}                                          &
        \instbitrange{6}{0}                                           & \textbf{fmt} \\
        \cline{2-11}

                                                                      &
        \multicolumn{4}{|c|}{funct7}                                  &
        \multicolumn{2}{c|}{rs2}                                      &
        \multicolumn{1}{c|}{rs1}                                      &
        \multicolumn{1}{c|}{funct3}                                   &
        \multicolumn{1}{c|}{rd}                                       &
        \multicolumn{1}{c|}{opcode}                                   & R-type       \\
        \cline{2-11}

                                                                      &
        \multicolumn{6}{|c|}{imm[11:0]}                               &
        \multicolumn{1}{c|}{rs1}                                      &
        \multicolumn{1}{c|}{funct3}                                   &
        \multicolumn{1}{c|}{rd}                                       &
        \multicolumn{1}{c|}{opcode}                                   & I-type       \\
        \cline{2-11}

                                                                      &
        \multicolumn{4}{|c|}{imm[11:5]}                               &
        \multicolumn{2}{c|}{rs2}                                      &
        \multicolumn{1}{c|}{rs1}                                      &
        \multicolumn{1}{c|}{funct3}                                   &
        \multicolumn{1}{c|}{imm[4:0]}                                 &
        \multicolumn{1}{c|}{opcode}                                   & S-type       \\
        \cline{2-11}

                                                                      &
        \multicolumn{4}{|c|}{imm[12$\vert$10:5]}                      &
        \multicolumn{2}{c|}{rs2}                                      &
        \multicolumn{1}{c|}{rs1}                                      &
        \multicolumn{1}{c|}{funct3}                                   &
        \multicolumn{1}{c|}{imm[4:1$\vert$11]}                        &
        \multicolumn{1}{c|}{opcode}                                   & B-type       \\
        \cline{2-11}

                                                                      &
        \multicolumn{8}{|c|}{imm[31:12]}                              &
        \multicolumn{1}{c|}{rd}                                       &
        \multicolumn{1}{c|}{opcode}                                   & U-type       \\
        \cline{2-11}

                                                                      &
        \multicolumn{8}{|c|}{imm[20$\vert$10:1$\vert$11$\vert$19:12]} &
        \multicolumn{1}{c|}{rd}                                       &
        \multicolumn{1}{c|}{opcode}                                   & J-type       \\
        \cline{2-11}
    \end{tabular}
\end{center}

\subsection{RV32I Base Integer Instructions}
\footnotesize
\renewcommand{\arraystretch}{1.2}
\setlength\tabcolsep{2pt} % default value: 6pt
\begin{tabularx}{\linewidth}{@{}T  p{0.13\linewidth}  c  T  T  T  T  p{0.08\linewidth}@{}}
    \rm Inst & Name                    & fmt & \rm Opcode & \rm funct3 & \rm funct7     & \rm Description (C)              & Note         \\ 
    \cmidrule{1-8}
    add      & ADD                     & R   & 0110011    & 0x0        & 0x00           & rd = rs1 + rs2                   &              \\
    sub      & SUB                     & R   & 0110011    & 0x0        & 0x20           & rd = rs1 - rs2                   &              \\
    xor      & XOR                     & R   & 0110011    & 0x4        & 0x00           & rd = rs1 \^{} rs2                &              \\
    or       & OR                      & R   & 0110011    & 0x6        & 0x00           & rd = rs1 | rs2                   &              \\
    and      & AND                     & R   & 0110011    & 0x7        & 0x00           & rd = rs1 \& rs2                  &              \\
    sll      & Shift Left Logical      & R   & 0110011    & 0x1        & 0x00           & rd = rs1 \verb|<<| rs2           &              \\
    srl      & Shift Right Logical     & R   & 0110011    & 0x5        & 0x00           & rd = rs1 \verb|>>| rs2           &              \\
    sra      & Shift Right Arith*      & R   & 0110011    & 0x5        & 0x20           & rd = rs1 \verb|>>| rs2           & msb-extends  \\
    slt      & Set Less Than           & R   & 0110011    & 0x2        & 0x00           & rd = (rs1 < rs2)?1:0             &              \\
    sltu     & Set Less Than (U)       & R   & 0110011    & 0x3        & 0x00           & rd = (rs1 < rs2)?1:0             & zero-extends \\ 
    \cmidrule{1-8}
    addi     & ADD Immediate           & I   & 0010011    & 0x0        &                & rd = rs1 + imm                   &              \\
    xori     & XOR Immediate           & I   & 0010011    & 0x4        &                & rd = rs1 \^{} imm                &              \\
    ori      & OR Immediate            & I   & 0010011    & 0x6        &                & rd = rs1 | imm                   &              \\
    andi     & AND Immediate           & I   & 0010011    & 0x7        &                & rd = rs1 \& imm                  &              \\
    slli     & Shift Left Logical Imm  & I   & 0010011    & 0x1        & imm[5:11]=0x00 & rd = rs1 \verb|<<| imm[0:4]      &              \\
    srli     & Shift Right Logical Imm & I   & 0010011    & 0x5        & imm[5:11]=0x00 & rd = rs1 \verb|>>| imm[0:4]      &              \\
    srai     & Shift Right Arith Imm   & I   & 0010011    & 0x5        & imm[5:11]=0x20 & rd = rs1 \verb|>>| imm[0:4]      & msb-extends  \\
    slti     & Set Less Than Imm       & I   & 0010011    & 0x2        &                & rd = (rs1 < imm)?1:0             &              \\
    sltiu    & Set Less Than Imm (U)   & I   & 0010011    & 0x3        &                & rd = (rs1 < imm)?1:0             & zero-extends \\ 
    \cmidrule{1-8}
    lb       & Load Byte               & I   & 0000011    & 0x0        &                & rd = M[rs1+imm][0:7]             &              \\
    lh       & Load Half               & I   & 0000011    & 0x1        &                & rd = M[rs1+imm][0:15]            &              \\
    lw       & Load Word               & I   & 0000011    & 0x2        &                & rd = M[rs1+imm][0:31]            &              \\
    lbu      & Load Byte (U)           & I   & 0000011    & 0x4        &                & rd = M[rs1+imm][0:7]             & zero-extends \\
    lhu      & Load Half (U)           & I   & 0000011    & 0x5        &                & rd = M[rs1+imm][0:15]            & zero-extends \\ 
    \cmidrule{1-8}
    sb       & Store Byte              & S   & 0100011    & 0x0        &                & M[rs1+imm][0:7]  = rs2[0:7]      &              \\
    sh       & Store Half              & S   & 0100011    & 0x1        &                & M[rs1+imm][0:15] = rs2[0:15]     &              \\
    sw       & Store Word              & S   & 0100011    & 0x2        &                & M[rs1+imm][0:31] = rs2[0:31]     &              \\ 
    \cmidrule{1-8}
    beq      & Branch ==               & B   & 1100011    & 0x0        &                & if(rs1 == rs2) PC += imm         &              \\
    bne      & Branch !=               & B   & 1100011    & 0x1        &                & if(rs1 != rs2) PC += imm         &              \\
    blt      & Branch <                & B   & 1100011    & 0x4        &                & if(rs1 < \enspace rs2) PC += imm &              \\
    bge      & Branch $\geq$           & B   & 1100011    & 0x5        &                & if(rs1 >= rs2) PC += imm         &              \\
    bltu     & Branch < (U)            & B   & 1100011    & 0x6        &                & if(rs1 < \enspace rs2) PC += imm & zero-extends \\
    bgeu     & Branch $\geq$ (U)       & B   & 1100011    & 0x7        &                & if(rs1 >= rs2) PC += imm         & zero-extends \\ 
    \cmidrule{1-8}
    jal      & Jump And Link           & J   & 1101111    &            &                & rd = PC+4; PC += imm             &              \\
    jalr     & Jump And Link Reg       & I   & 1100111    & 0x0        &                & rd = PC+4; PC = rs1 + imm        &              \\ 
    \cmidrule{1-8}
    lui      & Load Upper Imm          & U   & 0110111    &            &                & rd = imm \verb|<<| 12            &              \\
    auipc    & Add Upper Imm to PC     & U   & 0010111    &            &                & rd = PC + (imm \verb|<<| 12)     &              \\ 
    \cmidrule{1-8}
    ecall    & Environment Call        & I   & 1110011    & 0x0        & imm=0x0        & Transfer control to OS           &              \\ 
    \cmidrule{1-8}
    ebreak   & Environment Break       & I   & 1110011    & 0x0        & imm=0x1        & Transfer control to debugger     &              \\ 
\end{tabularx}
\renewcommand{\arraystretch}{1}
\setlength\tabcolsep{6pt} % default value: 6pt

\subsection{Registers}
\renewcommand{\arraystretch}{1.2}
\setlength\tabcolsep{6pt} % default value: 6pt
\begin{tabularx}{\linewidth}{@{}llll@{}}
    Register     & ABI Name     & Description           & Saver  \\ 
    \cmidrule{1-4}
    \tt{x0}      & \tt{zero}    & Zero constant         & ---    \\
    \tt{x1}      & \tt{ra}      & Return address        & Caller \\
    \tt{x2}      & \tt{sp}      & Stack pointer         & Callee \\
    \tt{x3}      & \tt{gp}      & Global pointer        & ---    \\
    \tt{x4}      & \tt{tp}      & Thread pointer        & ---    \\
    \tt{x5-x7}   & \tt{t0-t2}   & Temporaries           & Caller \\
    \tt{x8}      & \tt{s0 / fp} & Saved / frame pointer & Callee \\
    \tt{x9}      & \tt{s1}      & Saved register        & Callee \\
    \tt{x10-x11} & \tt{a0-a1}   & Fn args/return values & Caller \\
    \tt{x12-x17} & \tt{a2-a7}   & Fn args               & Caller \\
    \tt{x18-x27} & \tt{s2-s11}  & Saved registers       & Callee \\
    \tt{x28-x31} & \tt{t3-t6}   & Temporaries           & Caller \\
    \cmidrule{1-4}
    \tt{f0-7}    & \tt{ft0-7}   & FP temporaries        & Caller \\
    \tt{f8-9}    & \tt{fs0-1}   & FP saved registers    & Callee \\
    \tt{f10-11}  & \tt{fa0-1}   & FP args/return values & Caller \\
    \tt{f12-17}  & \tt{fa2-7}   & FP args               & Caller \\
    \tt{f18-27}  & \tt{fs2-11}  & FP saved registers    & Callee \\
    \tt{f28-31}  & \tt{ft8-11}  & FP temporaries        & Caller \\
\end{tabularx}
\renewcommand{\arraystretch}{1}
\setlength\tabcolsep{6pt} % default value: 6pt